\begin{table}[htbp]
\centering
\caption{Branch and Cache Hotspots}
\label{tab:perf-hotspots}
\small
\begin{tabular}{r|l|rrr|rrr}
\toprule
Line & Source & \multicolumn{3}{c|}{Branches} & \multicolumn{3}{c}{L1 Cache} \\
 & & Count & \% Total & Miss\% & Count & \% Total & Miss\% \\
\midrule
408 & \texttt{\_M\_x[\_\_k] = (\_M\_x[\_\_k + \_\_m] \textasciicircum{} (\_\_y >> 1...} & 1.09B & 44.7\% & 19.8\% & 3.8M & 0.12\% & — \\
405 & \texttt{while (bb) \{} & 639.6M & 26.3\% & 5.5\% & 0 & — & — \\
523 & \texttt{std::\_\_new\_allocator<unsigned long>::dea...} & 46.2M & 1.9\% & 50.6\% & 52.6M & 1.7\% & — \\
666 & \texttt{while (!yolah.game\_over()) \{} & 202.7M & 8.3\% & 0.39\% & 0 & — & — \\
412 & \texttt{for (size\_t \_\_k = (\_\_n - \_\_m); \_\_k < (\_\_...} & 9.8M & 0.40\% & 2.6\% & 0 & — & — \\
5 & \texttt{ffffffffae335670 <load0>:} & 2.2M & 0.09\% & <0.01\% & 6.6M & 0.21\% & — \\
141 & \texttt{int d\_file = std::abs(file\_of(sq1) - fil...} & 0 & — & — & 3.6M & 0.12\% & — \\
182 & \texttt{if (!is\_ok(to) || manhattan\_distance(s, ...} & 3.0M & 0.12\% & — & 0 & — & — \\
203 & \texttt{return uint32\_t( ((occupied \& mask) * ma...} & 0 & — & — & 1.30B & 41.5\% & — \\
209 & \texttt{\{ return this->operator()(\_\_urng, \_M\_par...} & 0 & — & — & 20.7M & 0.66\% & — \\
216 & \texttt{return orthogonalMagics[sq].moves[idx\_om...} & 0 & — & — & 892.1M & 28.4\% & — \\
269 & \texttt{\_Wp \_\_product = \_Wp(\_\_g()) * \_Wp(\_\_range...} & 2.9M & 0.12\% & — & 0 & — & — \\
271 & \texttt{if (\_\_low < \_\_range)} & 14.4M & 0.59\% & — & 0 & — & — \\
305 & \texttt{if (\_\_urngrange > \_\_urange)} & 52.5M & 2.2\% & — & 0 & — & — \\
373 & \texttt{\}} & 6.4M & 0.26\% & — & 91.3M & 2.9\% & — \\
404 & \texttt{for (size\_t \_\_k = 0; \_\_k < (\_\_n - \_\_m); ...} & 4.6M & 0.19\% & — & 0 & — & — \\
407 & \texttt{uint64\_t b = moves\_bb(from, occupied) \& ...} & 0 & — & — & 6.6M & 0.21\% & — \\
415 & \texttt{| (\_M\_x[\_\_k + 1] \& \_\_lower\_mask));} & 0 & — & — & 14.7M & 0.47\% & — \\
416 & \texttt{\_M\_x[\_\_k] = (\_M\_x[\_\_k + (\_\_m - \_\_n)] \textasciicircum{} (...} & 0 & — & — & 9.6M & 0.30\% & — \\
437 & \texttt{if (move\_list == moves.move\_list) [[unli...} & 35.3M & 1.4\% & — & 283.4M & 9.0\% & — \\
443 & \texttt{unsigned long std::uniform\_int\_distribut...} & 15.6M & 0.64\% & — & 0 & — & — \\
462 & \texttt{result\_type \_\_z = \_M\_x[\_M\_p++];} & 0 & — & — & 101.1M & 3.2\% & — \\
465 & \texttt{result\_type \_\_z = \_M\_x[\_M\_p++];} & 0 & — & — & 66.0M & 2.1\% & — \\
469 & \texttt{./elf/do-rel.h:113} & 208.1M & 8.6\% & — & 106.0M & 3.4\% & — \\
474 & \texttt{\}} & 0 & — & — & 23.0M & 0.73\% & — \\
520 & \texttt{this->\_M\_impl.\_M\_end\_of\_storage - \_\_old\_...} & 7.2M & 0.30\% & — & 706.9K & 0.02\% & — \\
525 & \texttt{std::vector<unsigned long, std::allocato...} & 0 & — & — & 78.9M & 2.5\% & — \\
528 & \texttt{std::vector<unsigned long, std::allocato...} & 20.8M & 0.85\% & — & 54.0M & 1.7\% & — \\
532 & \texttt{ply++;} & 68.0M & 2.8\% & — & 0 & — & — \\
670 & \texttt{Move m = moves[d(mt)];} & 0 & — & — & 5.1M & 0.16\% & — \\
677 & \texttt{if (black\_score > white\_score) \{} & 1.2M & 0.05\% & — & 8.8M & 0.28\% & — \\
\midrule
\textbf{Total} & & \textbf{2.43B} & 100\% & \textbf{11.3\%} & \textbf{3.14B} & 100\% & \textbf{—} \\
\bottomrule
\end{tabular}
\end{table}